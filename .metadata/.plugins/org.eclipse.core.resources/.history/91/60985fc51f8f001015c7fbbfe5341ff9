/*
 * Stepper.c
 *
 *  Created on: Sep 10, 2025
 *      Author: Andrea
 */
#include <Stepper.hpp>


Stepper::Stepper(int8_t ID, int32_t Resolution) {
    id = ID;
    resolution = Resolution;
}

void Stepper::VelocityMode(int32_t Rpm, int32_t Acc){


}

void Stepper::setStepsFreq(uint32_t arr) {
    __HAL_TIM_DISABLE(&htim1);                         // Ferma il timer
    __HAL_TIM_SET_AUTORELOAD(&htim1, arr);             // Imposta ARR
    __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, arr/2); // Imposta duty cycle
    __HAL_TIM_ENABLE(&htim1);                          // Riavvia il timer
}
